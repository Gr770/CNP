on_birth_child = {
	on_actions = {
		on_birth_child_cnp
	}
}
on_birth_child_cnp = {
	effect = {
		courtier_effect_cnp = yes
	}
	events = {
		ctpname.999
		ctpname.998
		ctpname.997
		ctpname.996
	}
}
on_death = {
	on_actions = {
		on_arabic_death
		on_norse_death
	}
}
on_norse_death = {
	trigger = {
		culture = {
			is_cnp_supported_culture = yes
		}
	}
	events = {
		ctpname.400
		norsenamepack.001
		norsenamepack.002
	}
}
on_arabic_death = {
	trigger = {
		has_culture_group = culture_group:arabic_group
	}
	events = {
		ctpname.995
		ctpname.994
		ctpname.993
		ctpname.992
		ctpname.001
	}
}
on_game_start = {
	on_actions = {
		on_867_start
	}
	events = {
		ctpname.002
		ctpname.003
		ctpname.004
		ctpname.005
		ctpname.007
		ctpname.008
		ctpname.009
		ctpname.010
	}
}
on_867_start = {
	effect = {
		867_persian_start_up_effect = yes
	}
}
on_game_start_after_lobby = {
	on_actions = {
		ctp_courtiers_2
	}
}
ctp_courtiers_2 = {
	effect = {
		every_living_character = {
			limit = {
				culture = {
					is_cnp_supported_culture = yes
				}
				save_temporary_scope_as = to_be_checked
				OR = {
					is_courtier = yes
					highest_held_title_tier = tier_barony
				}
				NOT = {
					has_character_flag = name_pack_support
					AND = {
						exists = dynasty
						dynasty = {
							any_in_list = {
								variable = name_pack_support_dynasty
								this = scope:to_be_checked
							}
						}
					}
					any_in_global_list = {
						variable = name_pack_support_global
						this = scope:to_be_checked
					}
					any_close_family_member = {
						is_landed = yes
					}
				}
				NAND = {
					exists = primary_spouse
					primary_spouse = {
						is_landed = yes
					}
				}
			}
			courtier_effect_cnp = yes
		}
	}
}
ctp_courtiers = {
	trigger = {
		culture = {
			is_cnp_supported_culture = yes
		}
		save_temporary_scope_as = to_be_checked
		OR = {
			is_courtier = yes
			highest_held_title_tier = tier_barony
		}
		NOT = {
			has_character_flag = name_pack_support
			AND = {
				exists = dynasty
				dynasty = {
					any_in_list = {
						variable = name_pack_support_dynasty
						this = scope:to_be_checked
					}
				}
			}
			any_in_global_list = {
				variable = name_pack_support_global
				this = scope:to_be_checked
			}
			any_close_family_member = {
				is_landed = yes
			}
		}
		NAND = {
			exists = primary_spouse
			primary_spouse = {
				is_landed = yes
			}
		}
	}
	effect = {
		courtier_effect_cnp = yes
	}
}
random_yearly_everyone_pulse = {
	on_actions = {
		ctp_courtiers
	}
}